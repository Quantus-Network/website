---
import { SITE_NAVIGATIONS } from "@/constants/site-navigations";
import { applyStyles } from "@/utils/apply-styles";
---

<div class="navbar-desktop:block hidden">
  <div id="desktop-nav-links" class="flex items-center gap-x-4">
    {
      SITE_NAVIGATIONS.map((item) => (
        <a
          href={item.href}
          class={applyStyles(
            "text-navbar-link block transition-colors duration-200 hover:font-bold",
          )}
        >
          {item.label}
        </a>
      ))
    }
  </div>
</div>

<script>
  const desktopNavLinks = document.getElementById("desktop-nav-links");
  const links = desktopNavLinks?.querySelectorAll("a");

  const updateLinkStatus = (link: HTMLAnchorElement, isActive: boolean) => {
    if (isActive) {
      link.classList.add("font-bold");
      link.setAttribute("aria-current", "page");
    } else {
      link.classList.remove("font-bold");
      link.removeAttribute("aria-current");
    }
  };

  links?.forEach((link) => {
    const isActive =
      location.href === link.href || location.pathname === link.href;
    updateLinkStatus(link, isActive);

    link.addEventListener("click", () => {
      links.forEach((val) => {
        const isActive = val.href === link.href;
        updateLinkStatus(val, isActive);
      });
    });
  });
</script>
