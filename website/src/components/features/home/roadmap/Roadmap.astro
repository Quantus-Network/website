---
import SphereDecoration from "@/components/ui/SphereDecoration.astro";
import Timeline from "./Timeline.astro";
import type { Props as TimelineData } from "./TimelineItem.astro";
import TimelineItem from "./TimelineItem.astro";
import { createTranslator, getLocaleFromUrl } from "@/utils/i18n";

const locale = getLocaleFromUrl(Astro.url.pathname);
const t = await createTranslator(locale);

const timelineData: TimelineData[] = [
  {
    date: t("roadmap.timeline.heisenberg.date"),
    title: t("roadmap.timeline.heisenberg.title"),
    content: t("roadmap.timeline.heisenberg.content"),
  },
  {
    date: t("roadmap.timeline.resonance.date"),
    title: t("roadmap.timeline.resonance.title"),
    content: t("roadmap.timeline.resonance.content"),
  },
  {
    date: t("roadmap.timeline.schrodinger.date"),
    title: t("roadmap.timeline.schrodinger.title"),
    content: t("roadmap.timeline.schrodinger.content"),
  },
  {
    date: t("roadmap.timeline.bell.date"),
    title: t("roadmap.timeline.bell.title"),
    content: t("roadmap.timeline.bell.content"),
  },
  {
    date: t("roadmap.timeline.planck.date"),
    title: t("roadmap.timeline.planck.title"),
    content: t("roadmap.timeline.planck.content"),
  },
  {
    date: t("roadmap.timeline.dirac.date"),
    title: t("roadmap.timeline.dirac.title"),
    content: t("roadmap.timeline.dirac.content"),
  },
];
---

<section
  id="roadmap"
  class="relative flex flex-col overflow-hidden pt-[105px] pb-[125px] lg:items-center lg:pt-[60px]"
>
  <SphereDecoration
    class="absolute -top-[3rem] -left-[4rem] -z-10 lg:left-auto lg:hidden"
    variant="7"
    size={190}
  />
  <SphereDecoration
    class="absolute -top-[3rem] -left-[4rem] -z-10 hidden lg:left-auto lg:block"
    variant="15"
    size={190}
  />
  <Timeline class="left-2 h-[calc(100%-125px)] lg:top-[8rem] lg:left-auto" />

  <h2
    class="font-medium-title-mobile lg:font-medium-title ms-[3.5rem] mb-[43px] lg:ms-0 lg:mb-[120px] lg:text-center"
  >
    {t("roadmap.title")}
  </h2>

  <div class="flex flex-col gap-[45px]">
    {timelineData.map((data) => <TimelineItem {...data} />)}
  </div>
</section>
