---
import Layout from "@/components/layout/Layout.astro";
import env from "@/config";
import { JsonLd } from "@/utils/build-json-ld";
import {
  getLocaleFromUrl,
  createTranslator,
  SUPPORTED_LOCALES,
  getLocalizedMetadata,
  getLocalizedPath,
} from "@/utils/i18n";
import type { SEOProps } from "astro-seo";
import type { BreadcrumbList } from "schema-dts";

export async function getStaticPaths() {
  return SUPPORTED_LOCALES.map((lang) => ({ params: { lang } }));
}

const locale = getLocaleFromUrl(Astro.url.pathname);
const localizedMetadata = await getLocalizedMetadata(locale);
const t = await createTranslator(locale);

const metadata: SEOProps = {
  ...localizedMetadata,
  title: "Terms and Privacy",
  canonical: `${env.SITE_BASE_URL}/${locale}/terms-and-privacy`,
};

const jsonLd = JsonLd<BreadcrumbList>({
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  itemListElement: [
    {
      "@type": "ListItem",
      position: 1,
      name: "Home",
      item: `${env.SITE_BASE_URL}`,
    },
    {
      "@type": "ListItem",
      position: 2,
      name: metadata.title,
      item: metadata.canonical as string,
    },
  ],
});
---

<Layout {...metadata} jsonLd={jsonLd}>
  <div
    class="max-w-content mx-auto flex flex-col gap-16 px-[30px] py-10 lg:gap-[120px] lg:p-[114px] xl:px-0"
  >
    <section class="flex flex-col gap-5">
      <h1 class="font-small-title lg:font-medium-title">
        {t("tos.title")}
      </h1>
      <p class="font-body-mobile lg:font-body">
        {t("tos.last_updated")}
        <br />
        <br />
        {t("tos.intro")}
      </p>
    </section>

    <section id="terms" class="flex flex-col gap-5">
      <h2 class="font-small-title lg:font-medium-title">
        {t("tos.service_title")}
      </h2>

      <div class="flex flex-col gap-10 lg:grid lg:grid-cols-2 lg:gap-16">
        <div class="flex flex-col gap-[14px]">
          <h3 class="text-terms-title font-tag lg:font-small-title w-fit">
            {t("tos.terms.what_we_provide.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.terms.what_we_provide.intro")}
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.terms.what_we_provide.items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-terms-title font-tag lg:font-small-title w-fit">
            {t("tos.terms.what_you_cannot_do.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.terms.what_you_cannot_do.intro")}
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.terms.what_you_cannot_do.items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-terms-title font-tag lg:font-small-title w-fit">
            {t("tos.terms.mining_participation.title")}
          </h3>

          <div>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.terms.mining_participation.items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-terms-title font-tag lg:font-small-title w-fit">
            {t("tos.terms.dispute_resolution.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.terms.dispute_resolution.content")}
            </p>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-terms-title font-tag lg:font-small-title w-fit">
            {t("tos.terms.your_responsibilities.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.terms.your_responsibilities.intro")}
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.terms.your_responsibilities.items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-terms-title font-tag lg:font-small-title w-fit">
            {t("tos.terms.non_custodial.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.terms.non_custodial.intro")}
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.terms.non_custodial.items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-terms-title font-tag lg:font-small-title w-fit">
            {t("tos.terms.disclaimers.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.terms.disclaimers.intro")}
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.terms.disclaimers.items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section id="privacy" class="flex flex-col gap-5">
      <h2 class="font-small-title lg:font-medium-title">
        {t("tos.privacy_title")}
      </h2>

      <div class="flex flex-col gap-10 lg:grid lg:grid-cols-2 lg:gap-16">
        <div class="flex flex-col gap-[14px]">
          <h3 class="text-privacy-title font-tag lg:font-small-title w-fit">
            {t("tos.privacy.information_collect.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              <strong>{t("tos.privacy.information_collect.from_apps")}</strong>
              <br />
              {t("tos.privacy.information_collect.from_apps_content")}
            </p>

            <p class="font-body-mobile lg:font-body mt-4">
              <strong
                >{t("tos.privacy.information_collect.from_website")}</strong
              >
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (
                  t("tos.privacy.information_collect.from_website_items") as any
                ).map((item: string) => <li>{item}</li>)
              }
            </ul>

            <p class="font-body-mobile lg:font-body mt-4">
              <strong>{t("tos.privacy.information_collect.from_you")}</strong>
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (
                  t("tos.privacy.information_collect.from_you_items") as any
                ).map((item: string) => <li>{item}</li>)
              }
            </ul>

            <p class="font-body-mobile lg:font-body mt-4">
              <strong>{t("tos.privacy.information_collect.technical")}</strong>
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (
                  t("tos.privacy.information_collect.technical_items") as any
                ).map((item: string) => <li>{item}</li>)
              }
            </ul>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-privacy-title font-tag lg:font-small-title w-fit">
            {t("tos.privacy.how_we_use.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.privacy.how_we_use.intro")}
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.privacy.how_we_use.items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>

            <p class="font-body-mobile lg:font-body mt-4">
              <strong>{t("tos.privacy.how_we_use.we_do_not")}</strong>
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.privacy.how_we_use.we_do_not_items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-privacy-title font-tag lg:font-small-title w-fit">
            {t("tos.privacy.information_sharing.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.privacy.information_sharing.intro")}
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.privacy.information_sharing.items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
            <p class="font-body-mobile lg:font-body">
              {t("tos.privacy.information_sharing.note")}
            </p>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-privacy-title font-tag lg:font-small-title w-fit">
            {t("tos.privacy.cookies_tracking.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.privacy.cookies_tracking.intro")}
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.privacy.cookies_tracking.items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
            <p class="font-body-mobile lg:font-body">
              {t("tos.privacy.cookies_tracking.note")}
            </p>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-privacy-title font-tag lg:font-small-title w-fit">
            {t("tos.privacy.data_security.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.privacy.data_security.intro")}
            </p>

            <p class="font-body-mobile lg:font-body mt-4">
              <strong>{t("tos.privacy.data_security.technical_data")}</strong>
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.privacy.data_security.retention_items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-privacy-title font-tag lg:font-small-title w-fit">
            {t("tos.privacy.your_rights.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              <strong>{t("tos.privacy.your_rights.general")}</strong>
            </p>

            <p class="font-body-mobile lg:font-body mt-4">
              <strong>{t("tos.privacy.your_rights.california")}</strong>
            </p>

            <p class="font-body-mobile lg:font-body mt-4">
              <strong>{t("tos.privacy.your_rights.eu_uk")}</strong>
            </p>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-privacy-title font-tag lg:font-small-title w-fit">
            {t("tos.privacy.international_transfers.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.privacy.international_transfers.content")}
            </p>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-privacy-title font-tag lg:font-small-title w-fit">
            {t("tos.privacy.childrens_privacy.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {t("tos.privacy.childrens_privacy.content")}
            </p>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-privacy-title font-tag lg:font-small-title w-fit">
            {t("tos.privacy.additional_info.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              <strong>{t("tos.privacy.additional_info.regulatory")}</strong>
            </p>
            <ul class="font-body-mobile lg:font-body list-disc ps-4">
              {
                (t("tos.privacy.additional_info.regulatory_items") as any).map(
                  (item: string) => <li>{item}</li>,
                )
              }
            </ul>
          </div>
        </div>

        <div class="flex flex-col gap-[14px]">
          <h3 class="text-privacy-title font-tag lg:font-small-title w-fit">
            {t("tos.privacy.contact_info.title")}
          </h3>

          <div>
            <p class="font-body-mobile lg:font-body">
              {
                t("tos.privacy.contact_info.address")
                  .split("\n")
                  .map((line: string) => (
                    <>
                      {line}
                      <br />
                    </>
                  ))
              }
            </p>

            <p class="font-body-mobile lg:font-body mt-4">
              {t("tos.privacy.contact_info.note")}{" "}
              <a
                class="text-blue-400 underline"
                href={getLocalizedPath(locale, "/contact")}
                >{t("tos.privacy.contact_info.link")}</a
              >.
            </p>
          </div>
        </div>
      </div>
    </section>
  </div>
</Layout>
